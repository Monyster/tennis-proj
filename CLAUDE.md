# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Next.js 16 application built with:
- **React 19** with TypeScript
- **Tailwind CSS v4** for styling (using the new `@tailwindcss/postcss` plugin)
- **App Router** architecture (Next.js app directory)
s# CLAUDE.md ‚Äî –ü—ñ–Ω–≥-–ü–æ–Ω–≥ –∑ –î—Ä—É–∑—è–º–∏

## –û–≥–ª—è–¥ –ø—Ä–æ–µ–∫—Ç—É

MVP –¥–æ–¥–∞—Ç–∫—É –¥–ª—è –¥—Ä—É–∂–Ω—å–æ—ó –≥—Ä–∏ –≤ –Ω–∞—Å—Ç—ñ–ª—å–Ω–∏–π —Ç–µ–Ω—ñ—Å 2 –Ω–∞ 2 –∑ —Å–∏—Å—Ç–µ–º–æ—é —Ä–æ—Ç–∞—Ü—ñ—ó –∫–æ–º–∞–Ω–¥, —á–µ—Ä–≥–∏ —Ç–∞ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

## –¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **Frontend:** Next.js 14 (App Router), TypeScript, Tailwind CSS
- **Backend/DB:** Firebase Realtime Database
- **–•–æ—Å—Ç–∏–Ω–≥:** Vercel

## –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏

```bash
npm install
npm run dev
```

–°—Ç–≤–æ—Ä–∏ `.env.local` –∑ Firebase –∫–ª—é—á–∞–º–∏ (–¥–∏–≤. `.env.example`).

---

## –û—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ –≥—Ä–∏

### –§–æ—Ä–º–∞—Ç
- –ì—Ä–∞—é—Ç—å 2 –Ω–∞ 2 (–∫–æ–º–∞–Ω–¥–∏ –ø–æ 2 –≥—Ä–∞–≤—Ü—ñ)
- –ú—ñ–Ω—ñ–º—É–º 4 –≥—Ä–∞–≤—Ü—ñ –¥–ª—è —Å—Ç–∞—Ä—Ç—É
- –ú–æ–∂–ª–∏–≤–∞ –Ω–µ–ø–∞—Ä–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥—Ä–∞–≤—Ü—ñ–≤ (5, 7, 9...)

### –ú–µ—Ö–∞–Ω—ñ–∫–∞ –º–∞—Ç—á—É
- –ì—Ä–∞ –¥–æ 11 –æ—á–∫—ñ–≤
- –ü–æ 2 –ø–æ–¥–∞—á—ñ –∑ –∫–æ–∂–Ω–æ–≥–æ –±–æ–∫—É
- –ì—Ä–∞–≤—Ü—ñ —Å–∞–º—ñ —Ä–∞—Ö—É—é—Ç—å –æ—á–∫–∏, –¥–æ–¥–∞—Ç–æ–∫ –ª–∏—à–µ —Ñ—ñ–∫—Å—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –†–æ—Ç–∞—Ü—ñ—è
- –ü–µ—Ä–µ–º–æ–∂—Ü—ñ (—á–µ–º–ø—ñ–æ–Ω–∏) –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –∑–∞ —Å—Ç–æ–ª–æ–º
- –ü—Ä–æ–≥—Ä–∞–≤—à—ñ –π–¥—É—Ç—å –≤ –∫—ñ–Ω–µ—Ü—å —á–µ—Ä–≥–∏
- –ù–æ–≤–∞ –∫–æ–º–∞–Ω–¥–∞ (–ø—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç–∏) –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∑ —á–µ—Ä–≥–∏

### –§–æ—Ä–∞ —Ç–∞ –ø–æ–¥–∞—á—ñ

| –°–µ—Ä—ñ—è –ø–µ—Ä–µ–º–æ–≥ —á–µ–º–ø—ñ–æ–Ω—ñ–≤ | –§–æ—Ä–∞ –ø—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç—ñ–≤ | –ü–µ—Ä—à–∞ –ø–æ–¥–∞—á–∞ |
|-------------------------|-------------------|--------------|
| 0 (–Ω–æ–≤—ñ —á–µ–º–ø—ñ–æ–Ω–∏)       | 0                 | ‚Äî            |
| 1                       | +2                | —á–µ–º–ø—ñ–æ–Ω–∏     |
| 2                       | +4                | –ø—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç–∏  |
| 3                       | +6                | —á–µ–º–ø—ñ–æ–Ω–∏     |
| n                       | +2n               | —á–µ—Ä–≥—É—î—Ç—å—Å—è   |

–ü—Ä–∏ –∑–º—ñ–Ω—ñ —á–µ–º–ø—ñ–æ–Ω—ñ–≤ ‚Üí —Ñ–æ—Ä–∞ —Å–∫–∏–¥–∞—î—Ç—å—Å—è –¥–æ 0.

---

## –†–æ—Ç–∞—Ü—ñ—è –ø—Ä–∏ –Ω–µ–ø–∞—Ä–Ω—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –≥—Ä–∞–≤—Ü—ñ–≤

–ö–æ–ª–∏ –≥—Ä–∞–≤—Ü—ñ–≤ 5, 7, 9... ‚Äî –æ–¥–∏–Ω –≥—Ä–∞–≤–µ—Ü—å —Å–∏–¥–∏—Ç—å –Ω–∞ –ª–∞–≤—ñ.

### –õ–æ–≥—ñ–∫–∞ —Ä–æ—Ç–∞—Ü—ñ—ó (–Ω–µ–ø–∞—Ä–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å):
1. –ó –ø—Ä–æ–≥—Ä–∞–≤—à–æ—ó –∫–æ–º–∞–Ω–¥–∏ **–æ–¥–∏–Ω –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è** –∑–∞ —Å—Ç–æ–ª–æ–º, **–æ–¥–∏–Ω –π–¥–µ –Ω–∞ –ª–∞–≤—É**
2. **–•—Ç–æ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è:** —Ç–æ–π, —Ö—Ç–æ –∑—ñ–≥—Ä–∞–≤ –º–µ–Ω—à–µ –º–∞—Ç—á—ñ–≤ —É —Ü—ñ–π —Å–µ—Å—ñ—ó
3. –ì—Ä–∞–≤–µ—Ü—å –∑ –ª–∞–≤–∏ —É—Ç–≤–æ—Ä—é—î –Ω–æ–≤—É –∫–æ–º–∞–Ω–¥—É –∑ —Ç–∏–º, —Ö—Ç–æ –∑–∞–ª–∏—à–∏–≤—Å—è
4. –¢–æ–π —Ö—Ç–æ –ø—ñ—à–æ–≤ –Ω–∞ –ª–∞–≤—É ‚Äî —á–µ–∫–∞—î –Ω–∞—Å—Ç—É–ø–Ω–æ—ó —Ä–æ—Ç–∞—Ü—ñ—ó

### –õ–æ–≥—ñ–∫–∞ —Ä–æ—Ç–∞—Ü—ñ—ó (–ø–∞—Ä–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å):
1. –û–±–∏–¥–≤–∞ –ø—Ä–æ–≥—Ä–∞–≤—à—ñ –π–¥—É—Ç—å –≤ –∫—ñ–Ω–µ—Ü—å —á–µ—Ä–≥–∏
2. –ù–æ–≤–∞ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∑ –ø–æ—á–∞—Ç–∫—É —á–µ—Ä–≥–∏

---

## –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –î–≤—ñ –∫–Ω–æ–ø–∫–∏: "–ü–µ—Ä–µ–º–æ–≥–ª–∏ —á–µ–º–ø—ñ–æ–Ω–∏" / "–ü–µ—Ä–µ–º–æ–≥–ª–∏ –ø—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç–∏"
- –ë—É–¥—å-—Ö—Ç–æ –º–æ–∂–µ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ –∫–Ω–æ–ø–∫—É
- –ü–æ—Ç—Ä—ñ–±–Ω–æ **30% –≥–æ–ª–æ—Å—ñ–≤** –≤—ñ–¥ —É—Å—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤ —É –∫—ñ–º–Ω–∞—Ç—ñ
- –ü—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ—Ç–∞—Ü—ñ—è

---

## –î–∏–Ω–∞–º—ñ—á–Ω—ñ –∑–º—ñ–Ω–∏

| –ü–æ–¥—ñ—è | –î—ñ—è |
|-------|-----|
| –ù–æ–≤–∏–π –≥—Ä–∞–≤–µ—Ü—å | –î–æ–¥–∞—î—Ç—å—Å—è –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ —á–µ—Ä–≥–∏ (–∞–±–æ –Ω–∞ –ª–∞–≤—É —è–∫—â–æ –Ω–µ–ø–∞—Ä–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å) |
| –ì—Ä–∞–≤–µ—Ü—å –≤–∏–π—à–æ–≤ | –í–∏–¥–∞–ª—è—î—Ç—å—Å—è –∑ —á–µ—Ä–≥–∏/–ª–∞–≤–∏, –∫–æ–º–∞–Ω–¥–∞ —Ä–æ–∑–ø–∞–¥–∞—î—Ç—å—Å—è |

---

## –§–æ—Ä–º—É–≤–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥

1. **–ù–∞ —Å—Ç–∞—Ä—Ç—ñ:** —Ä–∞–Ω–¥–æ–º–Ω—ñ –ø–∞—Ä–∏
2. **–ó–º—ñ–Ω–∞ –ø–∞—Ä–∏:** —á–µ—Ä–µ–∑ –≤–∑–∞—î–º–Ω–∏–π —ñ–Ω–≤–∞–π—Ç (–æ–±–∏–¥–≤–∞ –ø–æ–≥–æ–¥–∏–ª–∏—Å—å)
3. –ü—Ä–∏ –Ω–µ–ø–∞—Ä–Ω—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–∞—Ä–∏ –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å —á–µ—Ä–µ–∑ —Ä–æ—Ç–∞—Ü—ñ—é

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Firebase Realtime Database

```
rooms/
  ‚îî‚îÄ‚îÄ {ROOM_CODE}/                    # –Ω–∞–ø—Ä. "PING-2847"
        ‚îú‚îÄ‚îÄ code: string              # –∫–æ–¥ –∫—ñ–º–Ω–∞—Ç–∏
        ‚îú‚îÄ‚îÄ status: "lobby" | "playing"
        ‚îú‚îÄ‚îÄ createdAt: number         # timestamp
        ‚îú‚îÄ‚îÄ hostId: string            # ID —Ç–≤–æ—Ä—Ü—è –∫—ñ–º–Ω–∞—Ç–∏
        ‚îÇ
        ‚îú‚îÄ‚îÄ players/
        ‚îÇ     ‚îî‚îÄ‚îÄ {playerId}/
        ‚îÇ           ‚îú‚îÄ‚îÄ id: string
        ‚îÇ           ‚îú‚îÄ‚îÄ name: string
        ‚îÇ           ‚îú‚îÄ‚îÄ joinedAt: number
        ‚îÇ           ‚îú‚îÄ‚îÄ gamesPlayed: number    # –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑—ñ–≥—Ä–∞–Ω–∏—Ö –º–∞—Ç—á—ñ–≤
        ‚îÇ           ‚îú‚îÄ‚îÄ satOutLast: number     # timestamp –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ —Å–∏–¥—ñ–Ω–Ω—è –Ω–∞ –ª–∞–≤—ñ
        ‚îÇ           ‚îú‚îÄ‚îÄ wins: number
        ‚îÇ           ‚îî‚îÄ‚îÄ losses: number
        ‚îÇ
        ‚îú‚îÄ‚îÄ teams/
        ‚îÇ     ‚îî‚îÄ‚îÄ {teamId}/
        ‚îÇ           ‚îú‚îÄ‚îÄ id: string
        ‚îÇ           ‚îú‚îÄ‚îÄ player1Id: string
        ‚îÇ           ‚îî‚îÄ‚îÄ player2Id: string
        ‚îÇ
        ‚îú‚îÄ‚îÄ match/                     # null —è–∫—â–æ status === "lobby"
        ‚îÇ     ‚îú‚îÄ‚îÄ championsTeamId: string
        ‚îÇ     ‚îú‚îÄ‚îÄ challengersTeamId: string
        ‚îÇ     ‚îú‚îÄ‚îÄ championWinStreak: number
        ‚îÇ     ‚îî‚îÄ‚îÄ servingTeam: "champions" | "challengers"
        ‚îÇ
        ‚îú‚îÄ‚îÄ queue: string[]            # –º–∞—Å–∏–≤ teamId –≤ –ø–æ—Ä—è–¥–∫—É —á–µ—Ä–≥–∏
        ‚îÇ
        ‚îú‚îÄ‚îÄ bench: string[]            # –º–∞—Å–∏–≤ playerId –Ω–∞ –ª–∞–≤—ñ (–∑–∞–∑–≤–∏—á–∞–π 0 –∞–±–æ 1)
        ‚îÇ
        ‚îú‚îÄ‚îÄ votes/
        ‚îÇ     ‚îú‚îÄ‚îÄ pendingResult: "champions" | "challengers" | null
        ‚îÇ     ‚îú‚îÄ‚îÄ voters: { [playerId]: true }
        ‚îÇ     ‚îî‚îÄ‚îÄ startedAt: number | null
        ‚îÇ
        ‚îî‚îÄ‚îÄ invites/
              ‚îî‚îÄ‚îÄ {inviteId}/
                    ‚îú‚îÄ‚îÄ fromPlayerId: string
                    ‚îú‚îÄ‚îÄ toPlayerId: string
                    ‚îî‚îÄ‚îÄ createdAt: number
```

---

## TypeScript —Ç–∏–ø–∏

```typescript
// types/index.ts

export interface Player {
  id: string;
  name: string;
  joinedAt: number;
  gamesPlayed: number;
  satOutLast: number;
  wins: number;
  losses: number;
}

export interface Team {
  id: string;
  player1Id: string;
  player2Id: string;
}

export interface Match {
  championsTeamId: string;
  challengersTeamId: string;
  championWinStreak: number;
  servingTeam: 'champions' | 'challengers';
}

export interface Vote {
  pendingResult: 'champions' | 'challengers' | null;
  voters: Record<string, boolean>;
  startedAt: number | null;
}

export interface Invite {
  fromPlayerId: string;
  toPlayerId: string;
  createdAt: number;
}

export interface Room {
  code: string;
  status: 'lobby' | 'playing';
  createdAt: number;
  hostId: string;
  players: Record<string, Player>;
  teams: Record<string, Team>;
  match: Match | null;
  queue: string[];
  bench: string[];
  votes: Vote;
  invites: Record<string, Invite>;
}

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏
export const WINNING_SCORE = 11;
export const MIN_PLAYERS = 4;
export const VOTE_THRESHOLD = 0.3; // 30%

// –•–µ–ª–ø–µ—Ä–∏
export function getHandicap(winStreak: number): number {
  return winStreak * 2;
}

export function getServingTeam(winStreak: number): 'champions' | 'challengers' {
  if (winStreak === 0) return 'champions';
  return winStreak % 2 === 1 ? 'champions' : 'challengers';
}
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
/app
  ‚îú‚îÄ‚îÄ page.tsx                    # –ì–æ–ª–æ–≤–Ω–∞: —Å—Ç–≤–æ—Ä–∏—Ç–∏/–ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—å
  ‚îú‚îÄ‚îÄ room/
  ‚îÇ     ‚îî‚îÄ‚îÄ [code]/
  ‚îÇ           ‚îî‚îÄ‚îÄ page.tsx        # –õ–æ–±—ñ + –ì—Ä–∞
  ‚îú‚îÄ‚îÄ layout.tsx
  ‚îî‚îÄ‚îÄ globals.css

/components
  ‚îú‚îÄ‚îÄ CreateRoom.tsx              # –§–æ—Ä–º–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—ñ–º–Ω–∞—Ç–∏
  ‚îú‚îÄ‚îÄ JoinRoom.tsx                # –§–æ—Ä–º–∞ –ø—Ä–∏—î–¥–Ω–∞–Ω–Ω—è
  ‚îú‚îÄ‚îÄ Lobby.tsx                   # –°–ø–∏—Å–æ–∫ –≥—Ä–∞–≤—Ü—ñ–≤, –∫–æ–º–∞–Ω–¥–∏, —Å—Ç–∞—Ä—Ç
  ‚îú‚îÄ‚îÄ Game.tsx                    # –ú–∞—Ç—á, —á–µ—Ä–≥–∞, –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è
  ‚îú‚îÄ‚îÄ TeamCard.tsx                # –ö–∞—Ä—Ç–∫–∞ –∫–æ–º–∞–Ω–¥–∏
  ‚îú‚îÄ‚îÄ PlayerCard.tsx              # –ö–∞—Ä—Ç–∫–∞ –≥—Ä–∞–≤—Ü—è
  ‚îú‚îÄ‚îÄ VoteButtons.tsx             # –ö–Ω–æ–ø–∫–∏ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è
  ‚îú‚îÄ‚îÄ Queue.tsx                   # –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —á–µ—Ä–≥–∏
  ‚îú‚îÄ‚îÄ Bench.tsx                   # –ì—Ä–∞–≤—Ü—ñ –Ω–∞ –ª–∞–≤—ñ
  ‚îú‚îÄ‚îÄ InviteModal.tsx             # –ú–æ–¥–∞–ª–∫–∞ —ñ–Ω–≤–∞–π—Ç—ñ–≤
  ‚îî‚îÄ‚îÄ Stats.tsx                   # –¢–∞–±–ª–∏—Ü—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

/lib
  ‚îú‚îÄ‚îÄ firebase.ts                 # –ö–æ–Ω—Ñ—ñ–≥ Firebase
  ‚îî‚îÄ‚îÄ useRoom.ts                  # –•—É–∫ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫—ñ–º–Ω–∞—Ç–æ—é

/types
  ‚îî‚îÄ‚îÄ index.ts                    # TypeScript —Ç–∏–ø–∏
```

---

## –ï–∫—Ä–∞–Ω–∏ —Ç–∞ UI

### 1. –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ (`/`)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                     ‚îÇ
‚îÇ         üèì –ü—ñ–Ω–≥-–ü–æ–Ω–≥               ‚îÇ
‚îÇ            –∑ –î—Ä—É–∑—è–º–∏                ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ    ‚îÇ  –¢–≤–æ—î —ñ–º'—è              ‚îÇ     ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ    [ –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–º–Ω–∞—Ç—É ]            ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –∞–±–æ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ             ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ    ‚îÇ  –ö–æ–¥ –∫—ñ–º–Ω–∞—Ç–∏            ‚îÇ     ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ    [ –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—å ]                 ‚îÇ
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. –õ–æ–±—ñ (`/room/[code]` –∫–æ–ª–∏ status === "lobby")

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ö—ñ–º–Ω–∞—Ç–∞: PING-2847    [–ö–æ–ø—ñ—é–≤–∞—Ç–∏] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                     ‚îÇ
‚îÇ  –ì—Ä–∞–≤—Ü—ñ (5):                        ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ  –í–∞—Å—è   ‚îÇ‚îÄ‚îÄ‚îÇ  –ü–µ—Ç—è   ‚îÇ  –ö–æ–º–∞–Ω–¥–∞ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ  –ú–∞—à–∞   ‚îÇ‚îÄ‚îÄ‚îÇ  –ö–æ–ª—è   ‚îÇ  –ö–æ–º–∞–Ω–¥–∞ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                       ‚îÇ
‚îÇ  ‚îÇ  –ê–Ω—è    ‚îÇ  –ë–µ–∑ –ø–∞—Ä–∏             ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  [–ó–∞–ø—Ä–æ—Å–∏—Ç–∏]          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ      ‚îÇ
‚îÇ  –ú—ñ–Ω. 4 –≥—Ä–∞–≤—Ü—ñ –¥–ª—è —Å—Ç–∞—Ä—Ç—É          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  [ üéÆ –ü–æ—á–∞—Ç–∏ –≥—Ä—É ]                 ‚îÇ
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3. –ì—Ä–∞ (`/room/[code]` –∫–æ–ª–∏ status === "playing")

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PING-2847                   [üìä]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                     ‚îÇ
‚îÇ  üèÜ –ß–ï–ú–ü–Ü–û–ù–ò                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ     –í–∞—Å—è  +  –ü–µ—Ç—è           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     –°–µ—Ä—ñ—è –ø–µ—Ä–µ–º–æ–≥: 2        ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ            ‚öîÔ∏è VS                    ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üéØ –ü–†–ï–¢–ï–ù–î–ï–ù–¢–ò                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ     –ú–∞—à–∞  +  –ö–æ–ª—è           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     –§–æ—Ä–∞: +4 | –ü–æ–¥–∞—é—Ç—å –≤–æ–Ω–∏ ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  –•—Ç–æ –ø–µ—Ä–µ–º—ñ–≥?                       ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  [üèÜ –ß–µ–º–ø—ñ–æ–Ω–∏]  [üéØ –ü—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç–∏]   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  –ì–æ–ª–æ—Å—ñ–≤: 1/2 –∑–∞ —á–µ–º–ø—ñ–æ–Ω—ñ–≤         ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  –ß–µ—Ä–≥–∞: –ê–Ω—è + –î–∏–º–∞                  ‚îÇ
‚îÇ  –ù–∞ –ª–∞–≤—ñ: –ñ–µ–Ω—è                      ‚îÇ
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–º–æ–¥–∞–ª–∫–∞ –∞–±–æ –æ–∫—Ä–µ–º–∞ —Å–µ–∫—Ü—ñ—è)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞                 [‚úï] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                     ‚îÇ
‚îÇ  –ì—Ä–∞–≤–µ—Ü—å     W    L    Win%        ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ  –í–∞—Å—è        5    2    71%         ‚îÇ
‚îÇ  –ü–µ—Ç—è        4    3    57%         ‚îÇ
‚îÇ  –ú–∞—à–∞        3    3    50%         ‚îÇ
‚îÇ  –ö–æ–ª—è        2    4    33%         ‚îÇ
‚îÇ  –ê–Ω—è         1    3    25%         ‚îÇ
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ö–ª—é—á–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó

### 1. Firebase –∫–æ–Ω—Ñ—ñ–≥ (`lib/firebase.ts`)

```typescript
// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase –∑ .env.local
// –ï–∫—Å–ø–æ—Ä—Ç: app, database
```

### 2. –•—É–∫ useRoom (`lib/useRoom.ts`)

```typescript
export function useRoom(roomCode: string | null) {
  // –ü–æ–≤–µ—Ä—Ç–∞—î:
  return {
    room,              // Room | null ‚Äî —Ä–µ–∞–∫—Ç–∏–≤–Ω–∏–π —Å—Ç–∞–Ω –∫—ñ–º–Ω–∞—Ç–∏
    loading,           // boolean
    error,             // string | null
    playerId,          // string ‚Äî ID –ø–æ—Ç–æ—á–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è
    currentPlayer,     // Player | null
    pendingInvites,    // Invite[] ‚Äî –≤—Ö—ñ–¥–Ω—ñ —ñ–Ω–≤–∞–π—Ç–∏
    
    // –ú–µ—Ç–æ–¥–∏:
    createRoom,        // (playerName: string) => Promise<string> ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î –∫–æ–¥
    joinRoom,          // (code: string, playerName: string) => Promise<boolean>
    leaveRoom,         // () => Promise<void>
    sendInvite,        // (toPlayerId: string) => Promise<void>
    acceptInvite,      // (inviteId: string) => Promise<void>
    declineInvite,     // (inviteId: string) => Promise<void>
    startGame,         // () => Promise<void> ‚Äî —Ç—ñ–ª—å–∫–∏ —Ö–æ—Å—Ç
    voteResult,        // (result: 'champions' | 'challengers') => Promise<void>
  };
}
```

### 3. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–æ–¥—É –∫—ñ–º–Ω–∞—Ç–∏

```typescript
function generateRoomCode(): string {
  const numbers = Math.floor(1000 + Math.random() * 9000);
  return `PING-${numbers}`;
}
```

### 4. ID –≥—Ä–∞–≤—Ü—è (localStorage)

```typescript
function getPlayerId(): string {
  let id = localStorage.getItem('playerId');
  if (!id) {
    id = nanoid(10);
    localStorage.setItem('playerId', id);
  }
  return id;
}
```

---

## –õ–æ–≥—ñ–∫–∞ –æ–±—Ä–æ–±–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –º–∞—Ç—á—É

```typescript
async function processMatchResult(winner: 'champions' | 'challengers') {
  // 1. –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≥—Ä–∞–≤—Ü—ñ–≤ (wins/losses/gamesPlayed)
  
  // 2. –í–∏–∑–Ω–∞—á–∏—Ç–∏ –ª–æ–≥—ñ–∫—É —Ä–æ—Ç–∞—Ü—ñ—ó:
  const playerCount = Object.keys(room.players).length;
  const isOdd = playerCount % 2 === 1;
  
  if (winner === 'champions') {
    // –ß–µ–º–ø—ñ–æ–Ω–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è, –∑–±—ñ–ª—å—à–∏—Ç–∏ championWinStreak
    
    if (isOdd && bench.length > 0) {
      // –û–¥–∏–Ω –∑ –ø—Ä–æ–≥—Ä–∞–≤—à–∏—Ö –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è (—Ö—Ç–æ –º–µ–Ω—à–µ –≥—Ä–∞–≤)
      // –î—Ä—É–≥–∏–π –π–¥–µ –Ω–∞ –ª–∞–≤—É
      // –ì—Ä–∞–≤–µ—Ü—å –∑ –ª–∞–≤–∏ + —Ç–æ–π —Ö—Ç–æ –∑–∞–ª–∏—à–∏–≤—Å—è = –Ω–æ–≤–∞ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç—ñ–≤
    } else {
      // –ü—Ä–æ–≥—Ä–∞–≤—à—ñ –π–¥—É—Ç—å –≤ –∫—ñ–Ω–µ—Ü—å —á–µ—Ä–≥–∏
      // –ù–æ–≤—ñ –ø—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç–∏ –∑ –ø–æ—á–∞—Ç–∫—É —á–µ—Ä–≥–∏
    }
    
    // –û–Ω–æ–≤–∏—Ç–∏ servingTeam –Ω–∞ –æ—Å–Ω–æ–≤—ñ winStreak
    
  } else {
    // –ü—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç–∏ —Å—Ç–∞—é—Ç—å —á–µ–º–ø—ñ–æ–Ω–∞–º–∏
    // championWinStreak = 0
    
    if (isOdd && bench.length > 0) {
      // –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–∞ –ª–æ–≥—ñ–∫–∞ –¥–ª—è –∫–æ–ª–∏—à–Ω—ñ—Ö —á–µ–º–ø—ñ–æ–Ω—ñ–≤
    } else {
      // –ö–æ–ª–∏—à–Ω—ñ —á–µ–º–ø—ñ–æ–Ω–∏ –π–¥—É—Ç—å –≤ –∫—ñ–Ω–µ—Ü—å —á–µ—Ä–≥–∏
      // –ù–æ–≤—ñ –ø—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç–∏ –∑ –ø–æ—á–∞—Ç–∫—É —á–µ—Ä–≥–∏
    }
  }
  
  // 3. –°–∫–∏–Ω—É—Ç–∏ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è
  // 4. –û–Ω–æ–≤–∏—Ç–∏ Firebase –æ–¥–Ω–∏–º batch update
}
```

### –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ö—Ç–æ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è (–Ω–µ–ø–∞—Ä–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å)

```typescript
function whoStays(team: Team, players: Record<string, Player>): {
  stays: string;
  leaves: string;
} {
  const p1 = players[team.player1Id];
  const p2 = players[team.player2Id];
  
  // –ó–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ç–æ–π, —Ö—Ç–æ –∑—ñ–≥—Ä–∞–≤ –º–µ–Ω—à–µ –º–∞—Ç—á—ñ–≤
  if (p1.gamesPlayed <= p2.gamesPlayed) {
    return { stays: team.player1Id, leaves: team.player2Id };
  } else {
    return { stays: team.player2Id, leaves: team.player1Id };
  }
}
```

---

## Firebase Security Rules (–¥–ª—è MVP)

```json
{
  "rules": {
    "rooms": {
      "$roomCode": {
        ".read": true,
        ".write": true
      }
    }
  }
}
```

‚ö†Ô∏è –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é!

---

## –ü–æ—Ä—è–¥–æ–∫ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó

1. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Firebase** ‚Äî `lib/firebase.ts`
2. **–¢–∏–ø–∏** ‚Äî `types/index.ts`
3. **–•—É–∫ useRoom** ‚Äî `lib/useRoom.ts`
4. **–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞** ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–ø—Ä–∏—î–¥–Ω–∞–Ω–Ω—è
5. **–õ–æ–±—ñ** ‚Äî —Å–ø–∏—Å–æ–∫ –≥—Ä–∞–≤—Ü—ñ–≤, –∫–æ–º–∞–Ω–¥–∏, —ñ–Ω–≤–∞–π—Ç–∏
6. **–ì—Ä–∞** ‚Äî –º–∞—Ç—á, –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è, —Ä–æ—Ç–∞—Ü—ñ—è
7. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** ‚Äî —Ç–∞–±–ª–∏—Ü—è –≥—Ä–∞–≤—Ü—ñ–≤

---

## –í–∞–∂–ª–∏–≤—ñ –Ω—é–∞–Ω—Å–∏

1. **Realtime –ø—ñ–¥–ø–∏—Å–∫–∞** ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π `onValue` –∑ Firebase –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
2. **Batch updates** ‚Äî –æ–Ω–æ–≤–ª—é–π –ø–æ–≤'—è–∑–∞–Ω—ñ –¥–∞–Ω—ñ –æ–¥–Ω–∏–º `update()` –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ
3. **localStorage** ‚Äî –¥–ª—è playerId —Ç–∞ playerName (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó)
4. **–ö–æ–¥ –∫—ñ–º–Ω–∞—Ç–∏** ‚Äî –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –≤–µ–ª–∏–∫–∏–º–∏ –ª—ñ—Ç–µ—Ä–∞–º–∏, –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ä–µ–≥—ñ—Å—Ç—Ä–æ–Ω–µ–∑–∞–ª–µ–∂–Ω–æ
5. **–ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è** ‚Äî —Å–∫–∏–¥–∞—Ç–∏ –ø—Ä–∏ –Ω–æ–≤–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ, —Ç–∞–π–º–∞—É—Ç –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è MVP
6. **Mobile-first** ‚Äî UI –º–∞—î –±—É—Ç–∏ –∑—Ä—É—á–Ω–∏–º –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ

---

## –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è Claude Code

```
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
–°—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É –∑–≥—ñ–¥–Ω–æ CLAUDE.md

# Firebase
–ù–∞–ª–∞—à—Ç—É–π Firebase –∫–æ–Ω—Ñ—ñ–≥ –∑ .env.local

# –¢–∏–ø–∏
–°—Ç–≤–æ—Ä–∏ –≤—Å—ñ TypeScript —Ç–∏–ø–∏ –∑ CLAUDE.md

# –•—É–∫
–Ü–º–ø–ª–µ–º–µ–Ω—Ç—É–π useRoom —Ö—É–∫ –∑ —É—Å—ñ–º–∞ –º–µ—Ç–æ–¥–∞–º–∏

# UI
–°—Ç–≤–æ—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç [–Ω–∞–∑–≤–∞] –∑–≥—ñ–¥–Ω–æ –º–∞–∫–µ—Ç—É –≤ CLAUDE.md
```